(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},1206,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(73273);let s=a.forwardRef(({className:e,type:a,...s},i)=>(0,t.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},46585,e=>{"use strict";var t=e.i(43476),a=e.i(76525),r=e.i(1206);let s=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var i=e.i(31278),o=e.i(71645),n=e.i(73273),l=e.i(17595);function d(){let[e,d]=(0,o.useState)([{id:"1",role:"assistant",content:"Hello! I'm AcademAide, your personal academic assistant. How can I help you today?",timestamp:new Date}]),[c,u]=(0,o.useState)(""),[m,g]=(0,o.useState)(!1),f=(0,o.useRef)(null);(0,o.useEffect)(()=>{f.current?.scrollIntoView({behavior:"smooth"})},[e]);let h=async e=>{if(e.preventDefault(),!c.trim()||m)return;let t=l.default.get("student_id");if(!t)return void alert("Please login first");let a={id:Date.now().toString(),role:"user",content:c,timestamp:new Date};d(e=>[...e,a]),u(""),g(!0);try{let e=await fetch("http://localhost:8000/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_id:t,message:a.content})});if(!e.ok)throw Error("Processing failed");let r=await e.json(),s={id:(Date.now()+1).toString(),role:"assistant",content:r.response||"Sorry, I understand.",timestamp:new Date};d(e=>[...e,s])}catch(t){let e={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, something went wrong. Please try again.",timestamp:new Date};d(t=>[...t,e])}finally{g(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col h-[calc(100vh-8rem)]",children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto mb-4 space-y-4 p-4 rounded-lg border bg-card/50",children:[e.map(e=>(0,t.jsx)("div",{className:(0,n.cn)("flex w-max max-w-[80%] flex-col gap-2 rounded-2xl px-4 py-3 text-sm shadow-sm","user"===e.role?"ml-auto bg-gradient-to-br from-indigo-500 to-violet-600 text-white rounded-br-sm":"bg-white text-gray-800 dark:bg-slate-800 dark:text-gray-100 rounded-bl-sm border border-gray-100 dark:border-white/10"),children:e.content},e.id)),m&&(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 border border-gray-100 dark:border-white/10 w-max rounded-2xl rounded-bl-sm px-4 py-3 text-sm flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(i.Loader2,{className:"h-3 w-3 animate-spin text-indigo-500"}),(0,t.jsx)("span",{children:"Thinking..."})]}),(0,t.jsx)("div",{ref:f})]}),(0,t.jsxs)("form",{onSubmit:h,className:"flex gap-2",children:[(0,t.jsx)(r.Input,{placeholder:"Type your message...",value:c,onChange:e=>u(e.target.value),disabled:m,className:"flex-1 rounded-full border-gray-200 bg-white shadow-sm focus-visible:ring-indigo-500 dark:bg-slate-900/50 dark:border-white/10 pl-6"}),(0,t.jsxs)(a.Button,{type:"submit",size:"icon",disabled:m,className:"rounded-full h-10 w-10 bg-indigo-600 hover:bg-indigo-700 shadow-md shadow-indigo-500/20",children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Send"})]})]})]})}e.s(["default",()=>d],46585)}]);